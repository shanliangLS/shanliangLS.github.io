<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>开发笔记 | 钐椋的博客</title><script src="https://cdn.bootcss.com/valine/1.4.4/Valine.min.js"></script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 5.2.0"></head><body><header><nav><a href="/">首页</a><a href="/archives/">归档</a></nav></header><main><article><div id="post-bg"><div id="post-title"><div id="post-info"><span>date:<time datetime="2022-03-30T03:23:56.217Z" id="date"> 2022-03-30</time></span><br><span>updated:<time datetime="2022-03-30T03:23:56.218Z" id="updated"> 2022-03-30</time></span></div><h1>开发笔记</h1><hr></div><div id="post-content"><h2 id="IDE"><a href="#IDE" class="headerlink" title="IDE"></a>IDE</h2><p>todo</p>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="CentOS7"><a href="#CentOS7" class="headerlink" title="CentOS7"></a>CentOS7</h3><h4 id="yum源"><a href="#yum源" class="headerlink" title="yum源"></a>yum源</h4><h5 id="Kylin系统"><a href="#Kylin系统" class="headerlink" title="Kylin系统"></a>Kylin系统</h5><p>挂载 iso 源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mkdir /media/cdrom/<br>$ mount /dev/sr0 /media/cdrom/<br>$ yum clean all<br>$ yum makecache<br></code></pre></td></tr></table></figure>

<h5 id="下载全量依赖-rpm-离线安装"><a href="#下载全量依赖-rpm-离线安装" class="headerlink" title="下载全量依赖 rpm 离线安装"></a>下载全量依赖 rpm 离线安装</h5><p>推荐 repotrack</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 安装yum-utils</span><br>$ yum -y install yum-utils<br><br><span class="hljs-comment"># 下载 openssl 全量依赖包</span><br>$ repotrack openssl<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 离线安装</span><br>$ rpm -Uvh --force --nodeps *.rpm<br></code></pre></td></tr></table></figure>

<h4 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h4><p>todo</p>
<h4 id="MariaDB"><a href="#MariaDB" class="headerlink" title="MariaDB"></a>MariaDB</h4><p>先移除其它版本的 mariadb 和 mysql 相关</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rpm -qa | grep mariadb<br>mariadb-libs-5.5.56-2.ky4.x86_64<br>$ rpm -e --nodeps mariadb-libs<br></code></pre></td></tr></table></figure>

<p>本地 rpm 安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rpm -ivh *.rpm<br>warning: MariaDB-10.1.20-centos7-x86_64-client.rpm: Header V4 DSA/SHA1 Signature, key ID 1bb943db: NOKEY<br>error: Failed dependencies:<br>        libodbc.so.2()(64bit) is needed by MariaDB-connect-engine-10.1.20-1.el7.centos.x86_64<br>        libjemalloc.so.1()(64bit) is needed by MariaDB-server-10.1.20-1.el7.centos.x86_64<br>        libboost_program_options.so.1.53.0()(64bit) is needed by galera-25.3.19-1.rhel7.el7.centos.x86_64<br></code></pre></td></tr></table></figure>

<ul>
<li>查找 <a target="_blank" rel="noopener" href="http://www.rpmfind.net/linux/RPM/index.html">http://www.rpmfind.net/linux/RPM/index.html</a></li>
<li>yum search xxx</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yum install unixODBC<br>$ yum install boost-program-options.x86_64<br>$ yum install jemalloc.x86_64<br></code></pre></td></tr></table></figure>

<p>再次安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rpm -ivh *.rpm<br></code></pre></td></tr></table></figure>

<p>安装成功，启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ systemctl start mariadb<br></code></pre></td></tr></table></figure>

<p>初次启动配置密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mysql_secure_installation<br><span class="hljs-comment">#由于一开始安装MariaDB数据库后, root用户默认密码为空, 所以只需要按Enter键</span><br>Enter current password <span class="hljs-keyword">for</span> root (enter <span class="hljs-keyword">for</span> none):<br><br><span class="hljs-comment">#是否设置root用户的新密码</span><br>Set root password? [Y/n] y<br><br><span class="hljs-comment">#录入新密码</span><br>New password:<br><span class="hljs-comment">#确认新密码</span><br>Re-enter new password:<br><br><span class="hljs-comment">#是否删除匿名用户,生产环境建议删除</span><br>Remove anonymous users? [Y/n] y<br><br><span class="hljs-comment">#是否禁止root远程登录,根据自己的需求选择</span><br>Disallow root login remotely? [Y/n] n<br><br><span class="hljs-comment">#是否删除test数据库</span><br>Remove <span class="hljs-built_in">test</span> database and access to it? [Y/n] y<br><br><span class="hljs-comment">#是否重新加载权限表</span><br>Reload privilege tables now? [Y/n] y<br></code></pre></td></tr></table></figure>

<p>进入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mysql -u root -p<br></code></pre></td></tr></table></figure>

<h5 id="开启远程连接访问"><a href="#开启远程连接访问" class="headerlink" title="开启远程连接访问"></a>开启远程连接访问</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON *.* TO <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="hljs-string">&#x27;密码&#x27;</span> WITH GRANT OPTION;<br>MariaDB [(none)]&gt; FLUSH PRIVILEGES;<br></code></pre></td></tr></table></figure>

<p>查看</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">MariaDB [(none)]&gt; select User, host from mysql.user;<br>+------+-----------------------+<br>| User | host                  |<br>+------+-----------------------+<br>| root | %                     |<br>| root | 127.0.0.1             |<br>| root | ::1                   |<br>| root | localhost             |<br>| root | localhost.localdomain |<br>+------+-----------------------+<br></code></pre></td></tr></table></figure>

<h4 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h4><h5 id="查看实时日志文件"><a href="#查看实时日志文件" class="headerlink" title="查看实时日志文件"></a>查看实时日志文件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ tail -f catalina.out<br></code></pre></td></tr></table></figure>

<p>实时查看日志文件 最后n行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ tail -n 200 -f catalina.out<br></code></pre></td></tr></table></figure>

<h4 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a>Nodejs</h4><h5 id="直接使用已编译好的包"><a href="#直接使用已编译好的包" class="headerlink" title="直接使用已编译好的包"></a>直接使用已编译好的包</h5><p>Node 官网已经把 linux 下载版本更改为已编译好的版本了，我们可以直接下载解压后使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ wget https://nodejs.org/dist/v12.18.3/node-v12.18.3-linux-x64.tar.xz    // 下载<br>$ tar xf  node-v12.18.3-linux-x64.tar.xz       // 解压<br>$ <span class="hljs-built_in">cd</span> node-v12.18.3-linux-x64/                  // 进入解压目录<br>$ ./bin/node -v                               // 执行node命令 查看版本<br>v12.18.3<br></code></pre></td></tr></table></figure>

<p>添加到环境变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mv node-v12.18.3-linux-x64/ /usr/<span class="hljs-built_in">local</span>/node<br>$ vi /etc/profile<br></code></pre></td></tr></table></figure>

<p>添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;node&#x2F;bin<br></code></pre></td></tr></table></figure>

<p>保存退出</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">source</span> /etc/profile<br></code></pre></td></tr></table></figure>

<p>验证</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ node -v<br>v12.18.3<br>$ npm -v<br>6.14.6<br></code></pre></td></tr></table></figure>

<p>需要把原来旧版本的 nodejs 删了</p>
<h4 id="run-sh"><a href="#run-sh" class="headerlink" title="run.sh"></a>run.sh</h4><h5 id="bash-run-sh-Permission-denied"><a href="#bash-run-sh-Permission-denied" class="headerlink" title="bash: ./run.sh: Permission denied"></a>bash: ./run.sh: Permission denied</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ chmod 777 xxx.sh<br></code></pre></td></tr></table></figure>

<h5 id="bash-run-sh-bin-sh-M-bad-interpreter-No-such-file-or-directory"><a href="#bash-run-sh-bin-sh-M-bad-interpreter-No-such-file-or-directory" class="headerlink" title="bash: ./run.sh: /bin/sh^M: bad interpreter: No such file or directory"></a>bash: ./run.sh: /bin/sh^M: bad interpreter: No such file or directory</h5><p>vi 打开文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">:set ff&#x3D;unix<br>:wq<br></code></pre></td></tr></table></figure>

<h4 id="Eclipse"><a href="#Eclipse" class="headerlink" title="Eclipse"></a>Eclipse</h4><p>下载地址 <a target="_blank" rel="noopener" href="https://www.eclipse.org/downloads/packages/release/photon/r/eclipse-ide-java-ee-developers">https://www.eclipse.org/downloads/packages/release/photon/r/eclipse-ide-java-ee-developers</a></p>
<p>解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ tar -zxvf eclipse-jee-photon-R-linux-gtk-x86_64.tar.gz<br>$ mv eclipse /opt/<br></code></pre></td></tr></table></figure>

<p>创建 eclipse 启动的快捷方式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ vi /usr/share/applications/eclipse.desktop<br></code></pre></td></tr></table></figure>

<p>添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plain">[Desktop Entry]<br>Type&#x3D;Application<br>Name&#x3D;eclipse<br>Exec&#x3D;&#x2F;opt&#x2F;eclipse&#x2F;eclipse<br>GenericName&#x3D;eclipse<br>Comment&#x3D;Java development tools<br>Icon&#x3D;&#x2F;opt&#x2F;eclipse&#x2F;icon.xpm<br>Categories&#x3D;Application;Development;<br><br>Terminal&#x3D;false<br></code></pre></td></tr></table></figure>

<p>Exec 根据 eclipse 解压具体位置而定；Icon 为 eclipse 图标（如果有的话）；Name 为快捷键名称</p>
<p>左上角 Applications -&gt; Programming -&gt; eclipse</p>
<h4 id="erlang"><a href="#erlang" class="headerlink" title="erlang"></a>erlang</h4><p>下载地址 <a target="_blank" rel="noopener" href="https://www.erlang.org/downloads">https://www.erlang.org/downloads</a></p>
<p>rpm <a target="_blank" rel="noopener" href="https://dl.bintray.com/rabbitmq-erlang/rpm/erlang/23/el/7/x86_64/">https://dl.bintray.com/rabbitmq-erlang/rpm/erlang/23/el/7/x86_64/</a></p>
<p>安装 erlang</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rpm -ivh erlang-23.2.4-1.el7.x86_64.rpm<br>warning: erlang-23.2.4-1.el7.x86_64.rpm: Header V4 RSA/SHA1 Signature, key ID 6026dfca: NOKEY<br>Preparing...                          <span class="hljs-comment">################################# [100%]</span><br>Updating / installing...<br>   1:erlang-23.2.4-1.el7              <span class="hljs-comment">################################# [100%]</span><br></code></pre></td></tr></table></figure>

<p>验证</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ erl<br>Erlang/OTP 23 [erts-11.1.7] [<span class="hljs-built_in">source</span>] [64-bit] [smp:4:4] [ds:4:4:10] [async-threads:1] [hipe]<br><br>Eshell V11.1.7  (abort with ^G)<br>1&gt; halt().<br></code></pre></td></tr></table></figure>

<h4 id="RabbitMQ"><a href="#RabbitMQ" class="headerlink" title="RabbitMQ"></a>RabbitMQ</h4><p>下载地址 <a target="_blank" rel="noopener" href="https://www.rabbitmq.com/install-rpm.html#downloads">https://www.rabbitmq.com/install-rpm.html#downloads</a></p>
<p>安装 RabbitMQ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rpm -ivh rabbitmq-server-3.8.11-1.el7.noarch.rpm<br>warning: rabbitmq-server-3.8.11-1.el7.noarch.rpm: Header V4 RSA/SHA256 Signature, key ID 6026dfca: NOKEY<br>error: Failed dependencies:<br>        socat is needed by rabbitmq-server-3.8.11-1.el7.noarch<br></code></pre></td></tr></table></figure>

<p>需要 socat，下载 <a target="_blank" rel="noopener" href="http://www.rpmfind.net/linux/rpm2html/search.php?query=socat(x86-64)">http://www.rpmfind.net/linux/rpm2html/search.php?query=socat(x86-64)</a></p>
<p>安装 socat</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rpm -ivh socat-1.7.3.2-2.el7.x86_64.rpm<br>warning: socat-1.7.3.2-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY<br>Preparing...                          <span class="hljs-comment">################################# [100%]</span><br>Updating / installing...<br>   1:socat-1.7.3.2-2.el7              <span class="hljs-comment">################################# [100%]</span><br></code></pre></td></tr></table></figure>

<p>再次安装 RabbitMQ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rpm -ivh rabbitmq-server-3.8.11-1.el7.noarch.rpm<br>warning: rabbitmq-server-3.8.11-1.el7.noarch.rpm: Header V4 RSA/SHA256 Signature, key ID 6026dfca: NOKEY<br>Preparing...                          <span class="hljs-comment">################################# [100%]</span><br>Updating / installing...<br>   1:rabbitmq-server-3.8.11-1.el7     <span class="hljs-comment">################################# [100%]</span><br></code></pre></td></tr></table></figure>

<p>服务启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl start rabbitmq-server<br>systemctl stop rabbitmq-server<br>systemctl status rabbitmq-server<br></code></pre></td></tr></table></figure>

<p>开启 Web 端管理控制台</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rabbitmq-plugins <span class="hljs-built_in">enable</span> rabbitmq_management<br>Enabling plugins on node rabbit@localhost:<br>rabbitmq_management<br>The following plugins have been configured:<br>  rabbitmq_management<br>  rabbitmq_management_agent<br>  rabbitmq_web_dispatch<br>Applying plugin configuration to rabbit@localhost...<br>The following plugins have been enabled:<br>  rabbitmq_management<br>  rabbitmq_management_agent<br>  rabbitmq_web_dispatch<br><br>started 3 plugins.<br></code></pre></td></tr></table></figure>

<p>访问 <a target="_blank" rel="noopener" href="http://127.0.0.1:15672/">http://127.0.0.1:15672/</a></p>
<p>账号 guest 密码 guest</p>
<p>加入新用户且给于管理员权限，以便远程访问 RabbitMQ 控制台</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rabbitmqctl add_user js 986747978<br>Adding user <span class="hljs-string">&quot;js&quot;</span> ...<br>Done. Don<span class="hljs-string">&#x27;t forget to grant the user permissions to some virtual hosts! See &#x27;</span>rabbitmqctl <span class="hljs-built_in">help</span> set_permissions<span class="hljs-string">&#x27; to learn more.</span><br><span class="hljs-string">$ rabbitmqctl set_user_tags js administrator</span><br><span class="hljs-string">Setting tags for user &quot;js&quot; to [administrator] ...</span><br><span class="hljs-string">$ rabbitmqctl set_permissions -p / js &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br><span class="hljs-string">Setting permissions for user &quot;js&quot; in vhost &quot;/&quot; ...</span><br></code></pre></td></tr></table></figure>

<h5 id="rabbitmqadmin"><a href="#rabbitmqadmin" class="headerlink" title="rabbitmqadmin"></a>rabbitmqadmin</h5><p>定义一个 queue</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">rabbitmqadmin <span class="hljs-built_in">declare</span> queue name=<span class="hljs-built_in">test</span> durable=<span class="hljs-literal">true</span>  <span class="hljs-comment">## durable=true 代表持久化打开</span><br></code></pre></td></tr></table></figure>

<h4 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h4><p>mp4 编码转 H264</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ffmpeg -i 输入.mp4 -vcodec h264 输出.mp4<br></code></pre></td></tr></table></figure>

<p>mp4 转 ogg</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ffmpeg -i 输入.mp4 -acodec libvorbis 输出.ogg<br></code></pre></td></tr></table></figure>

<h2 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h2><h3 id="VMware-Workstation"><a href="#VMware-Workstation" class="headerlink" title="VMware Workstation"></a>VMware Workstation</h3><h4 id="NAT网配置"><a href="#NAT网配置" class="headerlink" title="NAT网配置"></a>NAT网配置</h4><p><a target="_blank" rel="noopener" href="https://www.codeprj.com/blog/a68d781.html">VMware虚拟机CentOS7 - VMnet8网络配置及常见问题解决</a></p>
<h3 id="Tomcat-1"><a href="#Tomcat-1" class="headerlink" title="Tomcat"></a>Tomcat</h3><h4 id="idea-tomcat-启动日志中文乱码"><a href="#idea-tomcat-启动日志中文乱码" class="headerlink" title="idea tomcat 启动日志中文乱码"></a>idea tomcat 启动日志中文乱码</h4><p>Windows系统的cmd是GBK编码的，所以IDEA的下方log输出的部分的编码也是GBK的，然而Tomcat 9.0 版本默认log输出是UTF-8编码的，采用了两种不同的编码方式就会导致乱码</p>
<p>修改 <code>logging.properties</code> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">java.util.logging.ConsoleHandler.encoding &#x3D; GBK<br></code></pre></td></tr></table></figure>

<h3 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h3><p>配置 websocket 反向代理+跨域</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs plain">server &#123;<br>    listen 80; # 监听80端口<br>    server_name domain.com;<br>    <br>    # 允许跨域<br>    add_header Access-Control-Allow-Origin *;<br>    add_header Access-Control-Allow-Methods &#39;GET, POST, OPTIONS&#39;;<br>    add_header Access-Control-Allow-Headers &#39;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&#39;;<br>    if ($request_method &#x3D; &#39;OPTIONS&#39;) &#123;<br>        return 204;<br>    &#125;<br><br>    location &#x2F; &#123;<br>        #添加websocket代理<br>        proxy_pass http:&#x2F;&#x2F;127.0.0.1:3000;  # websocket服务器。不用管 ws:&#x2F;&#x2F;<br>        proxy_http_version 1.1;<br>        proxy_set_header Upgrade $http_upgrade;<br>        proxy_set_header Connection &quot;upgrade&quot;;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><div id="paginator"></div></div><div id="post-footer"><hr><a href="/2022/03/30/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/">← Prev 前端笔记</a><span style="color: #fe2"> | </span><a href="/2022/03/17/Github-%E7%AC%94%E8%AE%B0/">Github 笔记 Next →</a><hr></div><div id="bottom-btn"><a id="to-index" href="#post-index" title="index">≡</a><a id="to-top" href="#post-title" title="to top">∧</a></div><details id="reward"><summary>打赏</summary><div id="alipay"><span>支付宝 | Alipay</span><br><img src="/img/Alipay.png"></div><div id="wechat"><span>微信 | WeChat</span><br><img src="/img/WeChat.png"></div></details><div id="Valine"></div><script>new Valine({
 el: '#Valine'
 , appId: ''
 , appKey: ''
 , placeholder: '此条评论委托企鹅物流发送'
})</script></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a target="_blank" rel="noopener" href="https://github.com/shanliangLS"> Dr.Shining</a></h1><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">29</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">21</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">7</span></div></section></div><div id="aside-block"><h1>INDEX</h1><div id="post-index"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#IDE"><span class="toc-number">1.</span> <span class="toc-text">IDE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux"><span class="toc-number">2.</span> <span class="toc-text">Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CentOS7"><span class="toc-number">2.1.</span> <span class="toc-text">CentOS7</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#yum%E6%BA%90"><span class="toc-number">2.1.1.</span> <span class="toc-text">yum源</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Kylin%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">Kylin系统</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%85%A8%E9%87%8F%E4%BE%9D%E8%B5%96-rpm-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">下载全量依赖 rpm 离线安装</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mysql"><span class="toc-number">2.1.2.</span> <span class="toc-text">Mysql</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MariaDB"><span class="toc-number">2.1.3.</span> <span class="toc-text">MariaDB</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%80%E5%90%AF%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E8%AE%BF%E9%97%AE"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">开启远程连接访问</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Tomcat"><span class="toc-number">2.1.4.</span> <span class="toc-text">Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%AE%9E%E6%97%B6%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">查看实时日志文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nodejs"><span class="toc-number">2.1.5.</span> <span class="toc-text">Nodejs</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E5%B7%B2%E7%BC%96%E8%AF%91%E5%A5%BD%E7%9A%84%E5%8C%85"><span class="toc-number">2.1.5.1.</span> <span class="toc-text">直接使用已编译好的包</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#run-sh"><span class="toc-number">2.1.6.</span> <span class="toc-text">run.sh</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#bash-run-sh-Permission-denied"><span class="toc-number">2.1.6.1.</span> <span class="toc-text">bash: .&#x2F;run.sh: Permission denied</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#bash-run-sh-bin-sh-M-bad-interpreter-No-such-file-or-directory"><span class="toc-number">2.1.6.2.</span> <span class="toc-text">bash: .&#x2F;run.sh: &#x2F;bin&#x2F;sh^M: bad interpreter: No such file or directory</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Eclipse"><span class="toc-number">2.1.7.</span> <span class="toc-text">Eclipse</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#erlang"><span class="toc-number">2.1.8.</span> <span class="toc-text">erlang</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RabbitMQ"><span class="toc-number">2.1.9.</span> <span class="toc-text">RabbitMQ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#rabbitmqadmin"><span class="toc-number">2.1.9.1.</span> <span class="toc-text">rabbitmqadmin</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ffmpeg"><span class="toc-number">2.1.10.</span> <span class="toc-text">ffmpeg</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tools"><span class="toc-number">3.</span> <span class="toc-text">Tools</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#VMware-Workstation"><span class="toc-number">3.1.</span> <span class="toc-text">VMware Workstation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#NAT%E7%BD%91%E9%85%8D%E7%BD%AE"><span class="toc-number">3.1.1.</span> <span class="toc-text">NAT网配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tomcat-1"><span class="toc-number">3.2.</span> <span class="toc-text">Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#idea-tomcat-%E5%90%AF%E5%8A%A8%E6%97%A5%E5%BF%97%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="toc-number">3.2.1.</span> <span class="toc-text">idea tomcat 启动日志中文乱码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nginx"><span class="toc-number">3.3.</span> <span class="toc-text">Nginx</span></a></li></ol></li></ol></div></div><footer><nobr><span class="text-title">©</span><span class="text-content">github.com/shanliangLS</span></nobr><wbr><wbr><nobr>published with&nbsp;<a target="_blank" rel="noopener" href="http://hexo.io">Hexo&nbsp;</a></nobr><wbr><nobr>Theme&nbsp;<a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknight&nbsp;</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/arknights.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script></body></html>