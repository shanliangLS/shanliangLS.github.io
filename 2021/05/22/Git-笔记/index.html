<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Git 笔记 | 钐椋的博客</title><script src="https://cdn.bootcss.com/valine/1.4.4/Valine.min.js"></script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 5.2.0"></head><body><header><nav><a href="/">首页</a><a href="/archives/">归档</a></nav></header><main><article><div id="post-bg"><div id="post-title"><div id="post-info"><span>date:<time datetime="2021-05-22T11:00:55.267Z" id="date"> 2021-05-22</time></span><br><span>updated:<time datetime="2021-10-20T02:57:55.762Z" id="updated"> 2021-10-20</time></span></div><h1>Git 笔记</h1><hr></div><div id="post-content"><h2 id="add"><a href="#add" class="headerlink" title="add"></a>add</h2><h3 id="取消add操作"><a href="#取消add操作" class="headerlink" title="取消add操作"></a>取消add操作</h3><p>这里仅取消提交到库存区这个动作，只撤消动作，修改的文件不变</p>
<p>可以直接使用命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset HEAD<br></code></pre></td></tr></table></figure>

<p>这个是整体回到上次一次操作，绿字变红字(撤销add)</p>
<h4 id="撤消之前未add的所有修改"><a href="#撤消之前未add的所有修改" class="headerlink" title="撤消之前未add的所有修改"></a>撤消之前未add的所有修改</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset --hard HEAD<br></code></pre></td></tr></table></figure>

<h2 id="archive"><a href="#archive" class="headerlink" title="archive"></a>archive</h2><p>直接在本地导出最新的版本库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git archive -o name-master.zip master<br></code></pre></td></tr></table></figure>

<h2 id="修改远程仓库地址"><a href="#修改远程仓库地址" class="headerlink" title="修改远程仓库地址"></a>修改远程仓库地址</h2><h3 id="直接修改"><a href="#直接修改" class="headerlink" title="直接修改"></a>直接修改</h3><ol>
<li><p>查看所有远程仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote -v<br></code></pre></td></tr></table></figure>
</li>
<li><pre><code class="bash">git remote set-url origin http://x.x.x.x:xxxx/xxx/xxx.git
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plain"><br>### 先删除再添加<br><br>1. 查看所有远程仓库<br><br>   &#96;&#96;&#96;bash<br>   git remote -v<br></code></pre></td></tr></table></figure></code></pre>
</li>
<li><p>删除远程仓库地址</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote rm origin<br></code></pre></td></tr></table></figure>
</li>
<li><pre><code class="bash">git remote add origin http://x.x.x.x:xxxx/xxx/xxx.git
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plain"><br>## 回滚<br><br>获取 revision_number<br><br>&#96;&#96;&#96;bash<br>git reset --hard &lt;revision_number&gt;<br></code></pre></td></tr></table></figure>
</code></pre>
</li>
</ol>
<p><code>--hard</code> 会将代码回滚</p>
<p>再强制提交，需要较高权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push -f<br></code></pre></td></tr></table></figure>

<h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><p><a target="_blank" rel="noopener" href="https://github.com/github/gitignore">.gitignore 文件模板</a></p>
<table>
<thead>
<tr>
<th>示例</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>#注释</td>
<td>.gitignore 的注释</td>
</tr>
<tr>
<td>*.txt</td>
<td>忽略所有 .txt 后缀的文件</td>
</tr>
<tr>
<td>!src.a</td>
<td>忽略除 src.a 外的其他文件</td>
</tr>
<tr>
<td>/todo</td>
<td>仅忽略项目根目录下的 todo 文件，不包括 src/todo</td>
</tr>
<tr>
<td>build/</td>
<td>忽略 build/目录下的所有文件，过滤整个build文件夹</td>
</tr>
<tr>
<td>doc/*.txt</td>
<td>忽略doc目录下所有 .txt 后缀的文件，但不包括 doc 子目录的 .txt 的文件</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>bin/</td>
<td>忽略当前路径下的 bin 文件夹，该文件夹下的所有内容都会被忽略，不忽略 bin 文件</td>
</tr>
<tr>
<td>/bin</td>
<td>忽略根目录下的 bin 文件</td>
</tr>
<tr>
<td>/*.c</td>
<td>忽略 cat.c，不忽略 build/cat.c</td>
</tr>
<tr>
<td>debug/*.obj</td>
<td>忽略debug/io.obj，不忽略 debug/common/io.obj和tools/debug/io.obj</td>
</tr>
<tr>
<td>**/foo</td>
<td>忽略/foo, a/foo, a/b/foo等</td>
</tr>
<tr>
<td>a/**/b</td>
<td>忽略a/b, a/x/b, a/x/y/b等</td>
</tr>
<tr>
<td>!/bin/run.sh</td>
<td>不忽略bin目录下的run.sh文件</td>
</tr>
<tr>
<td>config.js</td>
<td>忽略当前路径的 config.js 文件</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>/mtk/</td>
<td>忽略整个文件夹</td>
</tr>
<tr>
<td>/mtk/do.c</td>
<td>忽略某个具体文件</td>
</tr>
</tbody></table>
<div id="paginator"></div></div><div id="post-footer"><hr><a href="/2021/06/10/Java-%E7%AC%94%E8%AE%B0/">← Prev Java 笔记</a><span style="color: #fe2"> | </span><a href="/2021/05/15/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">开发笔记 Next →</a><hr></div><div id="bottom-btn"><a id="to-index" href="#post-index" title="index">≡</a><a id="to-top" href="#post-title" title="to top">∧</a></div><details id="reward"><summary>打赏</summary><div id="alipay"><span>支付宝 | Alipay</span><br><img src="/img/Alipay.png"></div><div id="wechat"><span>微信 | WeChat</span><br><img src="/img/WeChat.png"></div></details><div id="Valine"></div><script>new Valine({
 el: '#Valine'
 , appId: ''
 , appKey: ''
 , placeholder: '此条评论委托企鹅物流发送'
})</script></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a target="_blank" rel="noopener" href="https://github.com/shanliangLS"> Dr.Shining</a></h1><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">17</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">16</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">6</span></div></section></div><div id="aside-block"><h1>INDEX</h1><div id="post-index"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#add"><span class="toc-number">1.</span> <span class="toc-text">add</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E6%B6%88add%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.</span> <span class="toc-text">取消add操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%92%A4%E6%B6%88%E4%B9%8B%E5%89%8D%E6%9C%AAadd%E7%9A%84%E6%89%80%E6%9C%89%E4%BF%AE%E6%94%B9"><span class="toc-number">1.1.1.</span> <span class="toc-text">撤消之前未add的所有修改</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#archive"><span class="toc-number">2.</span> <span class="toc-text">archive</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80"><span class="toc-number">3.</span> <span class="toc-text">修改远程仓库地址</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E4%BF%AE%E6%94%B9"><span class="toc-number">3.1.</span> <span class="toc-text">直接修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gitignore"><span class="toc-number">4.</span> <span class="toc-text">.gitignore</span></a></li></ol></div></div><footer><nobr><span class="text-title">©</span><span class="text-content">github.com/shanliangLS</span></nobr><wbr><wbr><nobr>published with&nbsp;<a target="_blank" rel="noopener" href="http://hexo.io">Hexo&nbsp;</a></nobr><wbr><nobr>Theme&nbsp;<a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknight&nbsp;</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/arknights.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script></body></html>